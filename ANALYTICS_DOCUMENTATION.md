# üìà –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–æ–¥—É–ª—é –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ Telegram-–±–æ—Ç–∞

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

–ù–æ–≤—ã–π –º–æ–¥—É–ª—å "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞" –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è–º —Ñ–∏–ª–∏–∞–ª–æ–≤ –ø–æ–¥—Ä–æ–±–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–±–æ—Ç–µ —Å –æ—Ç–∑—ã–≤–∞–º–∏. –ú–æ–¥—É–ª—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ—Ç—á–µ—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 1. **–ì—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞ —Ñ–∏–ª–∏–∞–ª–∞ –ø–æ –¥–Ω—è–º
- **–§–æ—Ä–º–∞—Ç**: –õ–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ —Å —Ç–æ—á–∫–∞–º–∏
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –ø–µ—Ä–∏–æ–¥—É
  - –¶–≤–µ—Ç–æ–≤–∞—è –∑–∞–ª–∏–≤–∫–∞ –ø–æ–¥ –ª–∏–Ω–∏–µ–π
  - –û–ø–æ—Ä–Ω—ã–µ –ª–∏–Ω–∏–∏ –¥–ª—è —É—Ä–æ–≤–Ω–µ–π –∫–∞—á–µ—Å—Ç–≤–∞ (2.0, 3.0, 4.0)
  - –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç

### 2. **–ì—Ä–∞—Ñ–∏–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—Ç–∑—ã–≤–æ–≤**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –î–∏–Ω–∞–º–∏–∫–∞ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–æ–≤ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- **–§–æ—Ä–º–∞—Ç**: –°—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞
- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞**:
  - –î–æ 31 –¥–Ω—è: –ø–æ –¥–Ω—è–º
  - 32-93 –¥–Ω—è: –ø–æ –Ω–µ–¥–µ–ª—è–º
  - –°–≤—ã—à–µ 93 –¥–Ω–µ–π: –ø–æ –º–µ—Å—è—Ü–∞–º
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ó–Ω–∞—á–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å—Ç–æ–ª–±—Ü–∞—Ö
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

### 3. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –ø–æ –æ—Ü–µ–Ω–∫–∞–º**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–∑—ã–≤–æ–≤
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**:
  - –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ (4-5 –∑–≤–µ–∑–¥) - –∑–µ–ª–µ–Ω—ã–π
  - –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ (3 –∑–≤–µ–∑–¥—ã) - –∂–µ–ª—Ç—ã–π
  - –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ (1-2 –∑–≤–µ–∑–¥—ã) - –∫—Ä–∞—Å–Ω—ã–π
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ü—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º–µ
  - –î–µ—Ç–∞–ª—å–Ω–∞—è –ª–µ–≥–µ–Ω–¥–∞ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏ –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏

### 4. **–¢–µ–∫—Å—Ç–æ–≤–∞—è —Å–≤–æ–¥–∫–∞**
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤
  - –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø–µ—Ä–∏–æ–¥–æ–º
  - –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–∑—ã–≤–æ–≤ —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏
  - –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
telegram_analytics.py      # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
test_analytics.py          # –¢–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
test_telegram_analytics.py # –¢–µ—Å—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
ANALYTICS_DOCUMENTATION.md # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏

#### `TelegramAnalytics`
–ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π:

```python
class TelegramAnalytics:
    def __init__(self, db_session: Session)
    def get_reviews_for_period(branch_id, date_from, date_to)
    def calculate_statistics(reviews)
    def generate_rating_dynamics_chart(reviews, branch_name, date_from, date_to)
    def generate_reviews_count_chart(reviews, branch_name, date_from, date_to)
    def generate_rating_distribution_chart(reviews, branch_name)
    def generate_summary_text(reviews, branch_name, date_from, date_to)
    def cleanup_temp_files(file_paths)
```

#### `generate_analytics_report`
–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞:

```python
def generate_analytics_report(db_session, branch_id, branch_name, date_from, date_to):
    return {
        'summary_text': str,      # –¢–µ–∫—Å—Ç–æ–≤–∞—è —Å–≤–æ–¥–∫–∞
        'rating_chart': str,      # –ü—É—Ç—å –∫ –≥—Ä–∞—Ñ–∏–∫—É —Ä–µ–π—Ç–∏–Ω–≥–∞
        'count_chart': str,       # –ü—É—Ç—å –∫ –≥—Ä–∞—Ñ–∏–∫—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
        'distribution_chart': str, # –ü—É—Ç—å –∫ –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º–µ
        'temp_files': list        # –°–ø–∏—Å–æ–∫ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
    }
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram-–±–æ—Ç–æ–º

#### –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `telegram_bot.py`:
- `show_analytics_menu()` - –ø–æ–∫–∞–∑ –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Ñ–∏–ª–∏–∞–ª–∞
- `show_analytics_for_period()` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `button_callback()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

#### –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã callback_data:
- `menu_analytics` - –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- `analytics_{branch_id}` - –≤—ã–±–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

## üì± –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
```
üè™ –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚úÖ –í—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: —Ñ–∏–ª–∏–∞–ª1, —Ñ–∏–ª–∏–∞–ª2...

üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∑—ã–≤–æ–≤
üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞    ‚Üê –ù–û–í–ê–Ø –ö–ù–û–ü–ö–ê
üìù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
‚ÑπÔ∏è –ü–æ–º–æ—â—å
```

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã
1. **–í—ã–±–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞** (–µ—Å–ª–∏ –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–µ—Å–∫–æ–ª—å–∫–æ)
2. **–í—ã–±–æ—Ä –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞** (—á–µ—Ä–µ–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—å)
3. **–í—ã–±–æ—Ä –¥–∞—Ç—ã –æ–∫–æ–Ω—á–∞–Ω–∏—è** (—á–µ—Ä–µ–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—å)
4. **–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞**:
   - –¢–µ–∫—Å—Ç–æ–≤–∞—è —Å–≤–æ–¥–∫–∞
   - 3 –≥—Ä–∞—Ñ–∏–∫–∞ (—Ä–µ–π—Ç–∏–Ω–≥, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)
   - –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞
–î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª:
```
üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:
‚Ä¢ –ì—Ä–∞—Ñ–∏–∫–∏ –¥–∏–Ω–∞–º–∏–∫–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—Ç–∑—ã–≤–æ–≤
‚Ä¢ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –ø–æ –æ—Ü–µ–Ω–∫–∞–º
‚Ä¢ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏
```

## üé® –î–∏–∑–∞–π–Ω –≥—Ä–∞—Ñ–∏–∫–æ–≤

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ matplotlib
```python
plt.rcParams['font.family'] = ['DejaVu Sans']
plt.rcParams['figure.figsize'] = (12, 8)
plt.rcParams['font.size'] = 12
```

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
- **–ì—Ä–∞—Ñ–∏–∫ —Ä–µ–π—Ç–∏–Ω–≥–∞**: #2E86AB (–æ—Å–Ω–æ–≤–Ω–∞—è –ª–∏–Ω–∏—è), #A23B72 (–∑–∞–ª–∏–≤–∫–∞)
- **–ì—Ä–∞—Ñ–∏–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞**: #F18F01 (—Å—Ç–æ–ª–±—Ü—ã), #C73E1D (–≥—Ä–∞–Ω–∏—Ü—ã)
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: #2E8B57 (–ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ), #FFD700 (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ), #DC143C (–Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ)

### –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ
- DPI: 300
- –§–æ—Ä–º–∞—Ç: PNG
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: bbox_inches='tight'

## üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏

### –°–æ–∑–¥–∞–Ω–∏–µ
–ì—Ä–∞—Ñ–∏–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ `/tmp/`:
```python
temp_file = tempfile.NamedTemporaryFile(delete=False, suffix='.png')
```

### –û—á–∏—Å—Ç–∫–∞
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏:
```python
analytics.cleanup_temp_files(report['temp_files'])
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –æ—Ç—á–µ—Ç–æ–≤

### –¢–µ–∫—Å—Ç–æ–≤–∞—è —Å–≤–æ–¥–∫–∞
```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è —Ñ–∏–ª–∏–∞–ª–∞ 'Tary –ê—é—Å–∞–π'
üìÖ –ü–µ—Ä–∏–æ–¥: 15.06.2025 - 14.07.2025

üìà –û–±—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:
‚Ä¢ –í—Å–µ–≥–æ –æ—Ç–∑—ã–≤–æ–≤: 169 (+7 –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –ø–µ—Ä–∏–æ–¥—É)
‚Ä¢ –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥: 4.3/5 (+0.2 –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –ø–µ—Ä–∏–æ–¥—É)
‚Ä¢ –û—Ç–∑—ã–≤–æ–≤ —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏: 24 (14.2%)

üìã –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥–∞–º:
‚Ä¢ –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ (4-5 ‚≠ê): 136 (80.5%)
‚Ä¢ –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ (3 ‚≠ê): 4 (2.4%)
‚Ä¢ –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ (1-2 ‚≠ê): 29 (17.2%)

‚úÖ –û—Ç–ª–∏—á–Ω–æ: –í—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤!
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ü—Ä–∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö –æ—Ç–∑—ã–≤–∞—Ö > 20%: —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∫–∞—á–µ—Å—Ç–≤–∞
- –ü—Ä–∏ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö –æ—Ç–∑—ã–≤–∞—Ö > 80%: –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ —Å —Ö–æ—Ä–æ—à–µ–π —Ä–∞–±–æ—Ç–æ–π

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
source venv/bin/activate
python test_analytics.py
python test_telegram_analytics.py
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- ‚úÖ –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram-–±–æ—Ç–æ–º
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
matplotlib>=3.7.0
```

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
source venv/bin/activate
pip install matplotlib
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
systemctl restart telegram-bot.service
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏
```bash
journalctl -u telegram-bot.service -f
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö**: Graceful fallback —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö"
2. **–û—à–∏–±–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ fallback
3. **–ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞
4. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä–µ

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –ø–µ—Ä–∏–æ–¥—É
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (–ø–æ –∑–∞–ø—Ä–æ—Å—É)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –î–ª—è –ø–µ—Ä–∏–æ–¥–æ–≤ > 3 –º–µ—Å—è—Ü–µ–≤: –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º
- –ú–∞–∫—Å–∏–º—É–º 1000 –æ—Ç–∑—ã–≤–æ–≤ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫
- Timeout –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: 30 —Å–µ–∫—É–Ω–¥

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –°–æ–∑–¥–∞—é—Ç—Å—è –≤ `/tmp/` —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç —á–µ—Ä–µ–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ —Ñ–∏–ª–∏–∞–ª–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π —Ñ–∏–ª–∏–∞–ª–æ–≤

## üîÑ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
- ‚úÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤, –∏ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í–µ—Ä—Å–∏—è –º–æ–¥—É–ª—è: 1.0.0
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å telegram_bot.py: 2.8.0+
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ë–î: —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

---

**–ê–≤—Ç–æ—Ä**: Claude Code  
**–î–∞—Ç–∞**: 14.07.2025  
**–í–µ—Ä—Å–∏—è**: 1.0.0